<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cgv: libs/cgv_gl/gl/gltf_support.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cgv
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('gltf__support_8cxx_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">gltf_support.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;cgv/utils/file.h&gt;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;cgv/media/image/image_reader.h&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;cgv_gl/gl/gl.h&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;gltf_support.h&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacecgv.html">cgv</a> {</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="keyword">namespace </span>render {</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<a class="code" href="namespacecgv_1_1render.html#a36d5eafecd046d656ad030c042dfeaea">cgv::render::TextureFilter</a> map_gl_to_tex_filter(GLenum tf)</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;{</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="keywordflow">switch</span> (tf) {</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="keywordflow">case</span> GL_NEAREST: <span class="keywordflow">return</span> cgv::render::TF_NEAREST;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keywordflow">case</span> GL_LINEAR: <span class="keywordflow">return</span> cgv::render::TF_LINEAR;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keywordflow">case</span> GL_NEAREST_MIPMAP_NEAREST: <span class="keywordflow">return</span> cgv::render::TF_NEAREST_MIPMAP_NEAREST;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordflow">case</span> GL_LINEAR_MIPMAP_NEAREST: <span class="keywordflow">return</span> cgv::render::TF_LINEAR_MIPMAP_NEAREST;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keywordflow">case</span> GL_NEAREST_MIPMAP_LINEAR: <span class="keywordflow">return</span> cgv::render::TF_NEAREST_MIPMAP_LINEAR;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordflow">case</span> GL_LINEAR_MIPMAP_LINEAR: <span class="keywordflow">return</span> cgv::render::TF_LINEAR_MIPMAP_LINEAR;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordflow">case</span> GL_TEXTURE_MAX_ANISOTROPY_EXT: <span class="keywordflow">return</span> cgv::render::TF_ANISOTROP;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    }</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordflow">return</span> cgv::render::TF_LAST;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;}</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<a class="code" href="namespacecgv_1_1render.html#a4b3eb5abd80954194b0b60848fad0f2a">cgv::render::TextureWrap</a> map_gl_to_tex_wrap(GLenum tw)</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordflow">switch</span> (tw) {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">case</span> GL_REPEAT: <span class="keywordflow">return</span> cgv::render::TW_REPEAT;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">case</span> GL_CLAMP: <span class="keywordflow">return</span> cgv::render::TW_CLAMP;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">case</span> GL_CLAMP_TO_EDGE: <span class="keywordflow">return</span> cgv::render::TW_CLAMP_TO_EDGE;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">case</span> GL_CLAMP_TO_BORDER: <span class="keywordflow">return</span> cgv::render::TW_CLAMP_TO_BORDER;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">case</span> GL_MIRROR_CLAMP_EXT: <span class="keywordflow">return</span> cgv::render::TW_MIRROR_CLAMP;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">case</span> GL_MIRROR_CLAMP_TO_EDGE_EXT: <span class="keywordflow">return</span> cgv::render::TW_MIRROR_CLAMP_TO_EDGE;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">case</span> GL_MIRROR_CLAMP_TO_BORDER_EXT: <span class="keywordflow">return</span> cgv::render::TW_MIRROR_CLAMP_TO_BORDER;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">case</span> GL_MIRRORED_REPEAT: <span class="keywordflow">return</span> cgv::render::TW_MIRRORED_REPEAT;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">return</span> cgv::render::TW_LAST;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="namespacecgv_1_1render.html#ad09ce7c1f1275e31a8fbc3a85efbb1b6">cgv::render::PrimitiveType</a> map_gl_to_primitive_type(GLenum pt)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">switch</span> (pt) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">case</span> GL_POINTS: <span class="keywordflow">return</span> cgv::render::PT_POINTS;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">case</span> GL_LINES: <span class="keywordflow">return</span> cgv::render::PT_LINES;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">case</span> GL_LINES_ADJACENCY: <span class="keywordflow">return</span> cgv::render::PT_LINES_ADJACENCY;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">case</span> GL_LINE_STRIP: <span class="keywordflow">return</span> cgv::render::PT_LINE_STRIP;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">case</span> GL_LINE_STRIP_ADJACENCY: <span class="keywordflow">return</span> cgv::render::PT_LINE_STRIP_ADJACENCY;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">case</span> GL_LINE_LOOP: <span class="keywordflow">return</span> cgv::render::PT_LINE_LOOP;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">case</span> GL_TRIANGLES: <span class="keywordflow">return</span> cgv::render::PT_TRIANGLES;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">case</span> GL_TRIANGLES_ADJACENCY: <span class="keywordflow">return</span> cgv::render::PT_TRIANGLES_ADJACENCY;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">case</span> GL_TRIANGLE_STRIP: <span class="keywordflow">return</span> cgv::render::PT_TRIANGLE_STRIP;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">case</span> GL_TRIANGLE_STRIP_ADJACENCY: <span class="keywordflow">return</span> cgv::render::PT_TRIANGLE_STRIP_ADJACENCY;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">case</span> GL_TRIANGLE_FAN: <span class="keywordflow">return</span> cgv::render::PT_TRIANGLE_FAN;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">case</span> GL_QUADS: <span class="keywordflow">return</span> cgv::render::PT_QUADS;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">case</span> GL_QUAD_STRIP: <span class="keywordflow">return</span> cgv::render::PT_QUAD_STRIP;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">case</span> GL_POLYGON: <span class="keywordflow">return</span> cgv::render::PT_POLYGON;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> cgv::render::PT_LAST;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<a class="code" href="structcgv_1_1render_1_1type__descriptor.html">cgv::render::type_descriptor</a> get_element_type(<span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Accessor.html">fx::gltf::Accessor</a>&amp; accessor)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="structcgv_1_1render_1_1type__descriptor.html">cgv::render::type_descriptor</a> td(0);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">switch</span> (accessor.componentType) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::Byte:         td.coordinate_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a0d205549dd2803b074865a37865f3a3f">cgv::type::info::TI_INT8</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedByte: td.coordinate_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a60aaeda29715a39905dd9cbfbd0130ca">cgv::type::info::TI_UINT8</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::Short:        td.coordinate_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a0b548d57327334a30941ab7a822b8c74">cgv::type::info::TI_INT16</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedShort:td.coordinate_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752adb950c696eab9ccc5fda8cf2f384b2a0">cgv::type::info::TI_UINT16</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::Float:        td.coordinate_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a36608291ef7616121cf91e65d5451173">cgv::type::info::TI_FLT32</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedInt:  td.coordinate_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a5bbca1b211b592408faf6d1934103f76">cgv::type::info::TI_UINT32</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">switch</span> (accessor.type)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Mat2: td.element_type = cgv::render::ET_MATRIX; td.nr_columns = td.nr_rows = 2; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Mat3: td.element_type = cgv::render::ET_MATRIX; td.nr_columns = td.nr_rows = 3; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Mat4: td.element_type = cgv::render::ET_MATRIX; td.nr_columns = td.nr_rows = 4; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Scalar:td.element_type = cgv::render::ET_VALUE; td.nr_columns = td.nr_rows = 1; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Vec2: td.element_type = cgv::render::ET_VECTOR; td.nr_columns = 1; td.nr_rows = 2; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Vec3: td.element_type = cgv::render::ET_VECTOR; td.nr_columns = 1; td.nr_rows = 3; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Vec4: td.element_type = cgv::render::ET_VECTOR; td.nr_columns = 1; td.nr_rows = 4; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    td.normalize = accessor.normalized;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    td.is_row_major = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    td.is_array = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> td;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordtype">void</span> add_attribute(<a class="code" href="structcgv_1_1render_1_1attribute__array.html">cgv::render::attribute_array</a>&amp; aa,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Document.html">fx::gltf::Document</a>&amp; doc, <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Accessor.html">fx::gltf::Accessor</a>&amp; accessor,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    cgv::render::VertexAttributeID va_id, <span class="keyword">const</span> std::string&amp; name = <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1BufferView.html">fx::gltf::BufferView</a>&amp; bufferView = doc.bufferViews[accessor.bufferView];</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    aa.add_attribute(get_element_type(accessor), bufferView.buffer,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        bufferView.byteOffset + accessor.byteOffset, accessor.count,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        bufferView.byteStride, va_id, name);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="namespacecgv_1_1render.html#aa85910291a6074f0a3f451e846b43e79">   97</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecgv_1_1render.html#aa85910291a6074f0a3f451e846b43e79">extract_additional_information</a>(<span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Document.html">fx::gltf::Document</a>&amp; doc,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classcgv_1_1media_1_1axis__aligned__box.html">box3</a>&amp; box,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">size_t</span>&amp; vertex_count)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    vertex_count = 0;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    box.<a class="code" href="classcgv_1_1media_1_1axis__aligned__box.html#a147cf684bc35aa99ed1dc779930a1fc4">invalidate</a>();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// construct meshes</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; M : doc.meshes) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : M.primitives) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; a : p.attributes) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">if</span> (a.first == <span class="stringliteral">&quot;POSITION&quot;</span>) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Accessor.html">fx::gltf::Accessor</a>&amp; accessor = doc.accessors[a.second];</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    <span class="keywordflow">if</span> (accessor.componentType != fx::gltf::Accessor::ComponentType::Float)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1BufferView.html">fx::gltf::BufferView</a>&amp; bufferView = doc.bufferViews[accessor.bufferView];</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    <span class="keyword">const</span> uint8_t* data_ptr = &amp;doc.buffers[bufferView.buffer].data[0] + accessor.byteOffset + bufferView.byteOffset;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    vertex_count += accessor.count;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; accessor.count; ++i) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                        <span class="keywordflow">switch</span> (accessor.type) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                        <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Vec2:</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                            box.<a class="code" href="classcgv_1_1media_1_1axis__aligned__box.html#a3365862ca70f3d02981781f99bf238be">add_point</a>(<a class="code" href="namespacecgv.html#a986c65184af5066fa26d468fd606c4fb">vec3</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classcgv_1_1math_1_1fvec.html">vec2</a>*<span class="keyword">&gt;</span>(data_ptr)[i], 0.0f));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Vec3:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                            box.<a class="code" href="classcgv_1_1media_1_1axis__aligned__box.html#a3365862ca70f3d02981781f99bf238be">add_point</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classcgv_1_1math_1_1fvec.html">vec3</a>*<span class="keyword">&gt;</span>(data_ptr)[i]);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                        <span class="keywordflow">case</span> fx::gltf::Accessor::Type::Vec4:</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                            box.<a class="code" href="classcgv_1_1media_1_1axis__aligned__box.html#a3365862ca70f3d02981781f99bf238be">add_point</a>(*<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classcgv_1_1math_1_1fvec.html">vec3</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classcgv_1_1math_1_1fvec.html">vec4</a>*<span class="keyword">&gt;</span>(data_ptr) + i));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="namespacecgv_1_1render.html#a7b675d0a601181144b6ce95371ad087d">  134</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacecgv_1_1render.html#a7b675d0a601181144b6ce95371ad087d">build_render_info</a>(<span class="keyword">const</span> std::string&amp; file_name, <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Document.html">fx::gltf::Document</a>&amp; doc,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classcgv_1_1render_1_1context.html">cgv::render::context</a>&amp; ctx, <a class="code" href="classcgv_1_1render_1_1render__info.html">cgv::render::render_info</a>&amp; R)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    std::string file_path = cgv::utils::file::get_path(file_name);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (!ctx.<a class="code" href="classcgv_1_1render_1_1context.html#ad351a2dc1c1e0343b17738053a981816">make_current</a>()) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;need valid context for read_gltf&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a9f2169ef38b3237ec92344b7db230882">destruct</a>(ctx);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// construct buffers</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; b : doc.buffers) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="classcgv_1_1render_1_1vertex__buffer.html">cgv::render::vertex_buffer</a>* vbo = <span class="keyword">new</span> <a class="code" href="classcgv_1_1render_1_1vertex__buffer.html">cgv::render::vertex_buffer</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        vbo-&gt;<a class="code" href="classcgv_1_1render_1_1vertex__buffer.html#a7f244cbaab438c459a07454d2ce08df6">create</a>(ctx, &amp;b.data[0], b.byteLength);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a122a484f3d252d8059bced0a5385d0eb">ref_vbos</a>().push_back(vbo);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// read images images</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    std::vector&lt;cgv::data::data_view*&gt; dvs;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    std::vector&lt;cgv::data::data_format*&gt; dfs;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : doc.images) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (i.IsEmbeddedResource()) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;could not deal with embedded image&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            dfs.push_back(<span class="keyword">new</span> <a class="code" href="classcgv_1_1data_1_1data__format.html">cgv::data::data_format</a>());</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <a class="code" href="classcgv_1_1media_1_1image_1_1image__reader.html">cgv::media::image::image_reader</a> ir(*dfs.back());</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            std::string image_file_name = file_path + <span class="stringliteral">&quot;/&quot;</span> + i.uri;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">if</span> (!ir.<a class="code" href="classcgv_1_1media_1_1image_1_1image__reader.html#aa7e432a1d23297e019079b5dbd83e8db">open</a>(image_file_name)) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                std::cerr &lt;&lt; <span class="stringliteral">&quot;could not open image &quot;</span> &lt;&lt; image_file_name &lt;&lt; std::endl;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            dvs.push_back(<span class="keyword">new</span> <a class="code" href="classcgv_1_1data_1_1data__view.html">cgv::data::data_view</a>(dfs.back()));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">if</span> (!ir.<a class="code" href="classcgv_1_1media_1_1image_1_1image__reader.html#ac871d242183818bcacb62613a6907611">read_image</a>(*dvs.back())) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                std::cerr &lt;&lt; <span class="stringliteral">&quot;could not read image &quot;</span> &lt;&lt; image_file_name &lt;&lt; std::endl;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            ir.<a class="code" href="classcgv_1_1media_1_1image_1_1image__reader.html#a6dcb64349ead610304e739e09997099e">close</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// construct textures</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; t : doc.textures) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="classcgv_1_1render_1_1texture.html">cgv::render::texture</a>* tex = <span class="keyword">new</span> <a class="code" href="classcgv_1_1render_1_1texture.html">cgv::render::texture</a>();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        tex-&gt;<a class="code" href="classcgv_1_1render_1_1texture.html#a2b89a0bb09f73e84dec467a61b3fcc8b">create</a>(ctx, *dvs[t.source]);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; s = doc.samplers[t.sampler];</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">if</span> (s.magFilter != fx::gltf::Sampler::MagFilter::None)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            tex-&gt;<a class="code" href="classcgv_1_1render_1_1texture.html#a0164a6d3a2161bc4190daac067d78c5e">set_mag_filter</a>(map_gl_to_tex_filter(GLenum(s.magFilter)));</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">if</span> (s.minFilter != fx::gltf::Sampler::MinFilter::None)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            tex-&gt;<a class="code" href="classcgv_1_1render_1_1texture.html#ae16b594b6a561303de2dde63af981317">set_min_filter</a>(map_gl_to_tex_filter(GLenum(s.minFilter)));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        tex-&gt;<a class="code" href="classcgv_1_1render_1_1texture.html#abded6c3f51802b693e176c274bba3ed3">set_wrap_s</a>(map_gl_to_tex_wrap(GLenum(s.wrapS)));</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        tex-&gt;<a class="code" href="classcgv_1_1render_1_1texture.html#a81df3fa4d66b5d141e538532a83b08ee">set_wrap_t</a>(map_gl_to_tex_wrap(GLenum(s.wrapT)));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a28eb9c93ab8c9eea1d34627804513f10">ref_textures</a>().push_back(tex);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// construct materials</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : doc.materials) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="classcgv_1_1render_1_1textured__material.html">cgv::render::textured_material</a>* tm = <span class="keyword">new</span> <a class="code" href="classcgv_1_1render_1_1textured__material.html">cgv::render::textured_material</a>();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        tm-&gt;<a class="code" href="classcgv_1_1media_1_1illum_1_1textured__surface__material.html#a1f5057bf2e336d3da16338fb80331d6f">set_name</a>(m.name);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordtype">bool</span> found_KHR_mat = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        m.extensionsAndExtras.count(<span class="stringliteral">&quot;extensions&quot;</span>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (m.extensionsAndExtras.count(<span class="stringliteral">&quot;extensions&quot;</span>)) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keyword">auto</span>&amp; ext = m.extensionsAndExtras[<span class="stringliteral">&quot;extensions&quot;</span>];</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordflow">if</span> (ext.count(<span class="stringliteral">&quot;KHR_materials_pbrSpecularGlossiness&quot;</span>)) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keyword">auto</span>&amp; mat = ext[<span class="stringliteral">&quot;KHR_materials_pbrSpecularGlossiness&quot;</span>];</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                found_KHR_mat = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keywordflow">if</span> (mat.count(<span class="stringliteral">&quot;diffuseFactor&quot;</span>)) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    <span class="keyword">auto</span>&amp; df = mat[<span class="stringliteral">&quot;diffuseFactor&quot;</span>];</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    tm-&gt;set_diffuse_reflectance(<a class="code" href="namespacecgv.html#a465f589beeb5e4e76eb2db8d1f6057c1">rgb</a>(</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        df[0].get&lt;float&gt;(), df[1].get&lt;float&gt;(), df[2].get&lt;float&gt;()));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    tm-&gt;set_transparency(1.0f - df[3].get&lt;float&gt;());</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <span class="keywordflow">if</span> (mat.count(<span class="stringliteral">&quot;diffuseTexture&quot;</span>)) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    <span class="keywordtype">int</span> ti = tm-&gt;<a class="code" href="classcgv_1_1render_1_1textured__material.html#adf89736c38a1640923a915bae186c1e7">add_texture_reference</a>(*R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a28eb9c93ab8c9eea1d34627804513f10">ref_textures</a>()[mat[<span class="stringliteral">&quot;diffuseTexture&quot;</span>][<span class="stringliteral">&quot;index&quot;</span>].get&lt;<span class="keywordtype">int</span>&gt;()]);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    tm-&gt;set_diffuse_index(ti);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">if</span> (mat.count(<span class="stringliteral">&quot;glossinessFactor&quot;</span>))</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    tm-&gt;set_roughness(1 - mat[<span class="stringliteral">&quot;glossinessFactor&quot;</span>].get&lt;float&gt;());</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="keywordflow">if</span> (mat.count(<span class="stringliteral">&quot;specularFactor&quot;</span>)) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    <span class="keyword">auto</span>&amp; sf = mat[<span class="stringliteral">&quot;specularFactor&quot;</span>];</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    tm-&gt;set_diffuse_reflectance(<a class="code" href="namespacecgv.html#a465f589beeb5e4e76eb2db8d1f6057c1">rgb</a>(</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        sf[0].get&lt;float&gt;(), sf[1].get&lt;float&gt;(), sf[2].get&lt;float&gt;()));</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keywordflow">if</span> (mat.count(<span class="stringliteral">&quot;specularGlossinessTexture&quot;</span>)) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    <span class="keywordtype">int</span> ti = tm-&gt;<a class="code" href="classcgv_1_1render_1_1textured__material.html#adf89736c38a1640923a915bae186c1e7">add_texture_reference</a>(*R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a28eb9c93ab8c9eea1d34627804513f10">ref_textures</a>()[mat[<span class="stringliteral">&quot;specularGlossinessTexture&quot;</span>][<span class="stringliteral">&quot;index&quot;</span>].get&lt;<span class="keywordtype">int</span>&gt;()]);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    tm-&gt;set_specular_index(ti);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (!found_KHR_mat) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            tm-&gt;set_diffuse_reflectance(<a class="code" href="namespacecgv.html#a465f589beeb5e4e76eb2db8d1f6057c1">rgb</a>(</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                m.pbrMetallicRoughness.baseColorFactor[0],</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                m.pbrMetallicRoughness.baseColorFactor[1],</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                m.pbrMetallicRoughness.baseColorFactor[2]));</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            tm-&gt;set_transparency(1.0f - m.pbrMetallicRoughness.baseColorFactor[3]);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">if</span> (m.pbrMetallicRoughness.baseColorTexture.index != -1) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordtype">int</span> ti = tm-&gt;<a class="code" href="classcgv_1_1render_1_1textured__material.html#adf89736c38a1640923a915bae186c1e7">add_texture_reference</a>(*R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a28eb9c93ab8c9eea1d34627804513f10">ref_textures</a>()[m.pbrMetallicRoughness.baseColorTexture.index]);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                tm-&gt;set_diffuse_index(ti);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            tm-&gt;set_roughness(m.pbrMetallicRoughness.roughnessFactor);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            tm-&gt;set_metalness(m.pbrMetallicRoughness.metallicFactor);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">if</span> (m.pbrMetallicRoughness.metallicRoughnessTexture.index != -1) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <span class="keywordtype">int</span> ti = tm-&gt;<a class="code" href="classcgv_1_1render_1_1textured__material.html#adf89736c38a1640923a915bae186c1e7">add_texture_reference</a>(*R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a28eb9c93ab8c9eea1d34627804513f10">ref_textures</a>()[m.pbrMetallicRoughness.metallicRoughnessTexture.index]);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                tm-&gt;set_roughness_index(ti);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                tm-&gt;set_metalness_index(ti);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">if</span> (m.alphaMode == fx::gltf::Material::AlphaMode::Mask)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                tm-&gt;<a class="code" href="classcgv_1_1render_1_1textured__material.html#a855ded26a0193a7c93d839d9ba0df1ce">set_alpha_test</a>(cgv::render::textured_material::AT_GREATER, m.alphaCutoff);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            tm-&gt;set_emission(<a class="code" href="namespacecgv.html#a0cf3c7d9673d8f1d9d33685e3ce5c889">rgba</a>(</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                m.emissiveFactor[0],</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                m.emissiveFactor[1],</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                m.emissiveFactor[2]));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">if</span> (m.emissiveTexture.index != -1) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <span class="keywordtype">int</span> ti = tm-&gt;<a class="code" href="classcgv_1_1render_1_1textured__material.html#adf89736c38a1640923a915bae186c1e7">add_texture_reference</a>(*R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a28eb9c93ab8c9eea1d34627804513f10">ref_textures</a>()[m.emissiveTexture.index]);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                tm-&gt;set_emission_index(ti);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a4d6c314b7d74e35e5b00b1d92bba4f19">ref_materials</a>().push_back(tm);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// construct meshes</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; M : doc.meshes) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : M.primitives) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a51b42cc31f3332405dbc85f9581b301d">ref_aas</a>().push_back(<a class="code" href="structcgv_1_1render_1_1attribute__array.html">cgv::render::attribute_array</a>());</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keyword">auto</span>&amp; aa = R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a51b42cc31f3332405dbc85f9581b301d">ref_aas</a>().back();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            aa.aab_ptr = <span class="keyword">new</span> <a class="code" href="classcgv_1_1render_1_1attribute__array__binding.html">cgv::render::attribute_array_binding</a>();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            aa.aab_ptr-&gt;<a class="code" href="classcgv_1_1render_1_1attribute__array__binding.html#a180fc55e536437e5798b2cf355c017eb">create</a>(ctx);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <a class="code" href="structcgv_1_1render_1_1draw__call.html">cgv::render::draw_call</a> dc;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; a : p.attributes) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span> (a.first == <span class="stringliteral">&quot;POSITION&quot;</span>) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    add_attribute(aa, doc, doc.accessors[a.second], cgv::render::VA_POSITION);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    dc.count = doc.accessors[a.second].count;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.first == <span class="stringliteral">&quot;NORMAL&quot;</span>)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    add_attribute(aa, doc, doc.accessors[a.second], cgv::render::VA_NORMAL);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.first == <span class="stringliteral">&quot;TANGENT&quot;</span>)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    add_attribute(aa, doc, doc.accessors[a.second], cgv::render::VA_BY_NAME, <span class="stringliteral">&quot;tangent&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.first == <span class="stringliteral">&quot;TEXCOORD_0&quot;</span>)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    add_attribute(aa, doc, doc.accessors[a.second], cgv::render::VA_TEXCOORD);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            dc.indices = 0;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            dc.aa_index = uint32_t(R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a51b42cc31f3332405dbc85f9581b301d">ref_aas</a>().size() - 1);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            dc.instance_count = 1;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            dc.draw_call_type = cgv::render::RCT_ARRAYS;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            dc.vertex_offset = 0;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (p.indices &gt;= 0) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                dc.draw_call_type = cgv::render::RCT_INDEXED;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Accessor.html">fx::gltf::Accessor</a>&amp; accessor = doc.accessors[p.indices];</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1BufferView.html">fx::gltf::BufferView</a>&amp; bufferView = doc.bufferViews[accessor.bufferView];</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                dc.count = accessor.count;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a51b42cc31f3332405dbc85f9581b301d">ref_aas</a>().back().aab_ptr-&gt;set_element_array(ctx, *R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a122a484f3d252d8059bced0a5385d0eb">ref_vbos</a>()[bufferView.buffer]);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">if</span> (accessor.type != fx::gltf::Accessor::Type::Scalar) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    std::cerr &lt;&lt; <span class="stringliteral">&quot;index type must by scalar&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <span class="keywordflow">switch</span> (accessor.componentType) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedByte:</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    dc.index_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a60aaeda29715a39905dd9cbfbd0130ca">cgv::type::info::TI_UINT8</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedShort:</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    dc.index_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752adb950c696eab9ccc5fda8cf2f384b2a0">cgv::type::info::TI_UINT16</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedInt:</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    dc.index_type = <a class="code" href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a5bbca1b211b592408faf6d1934103f76">cgv::type::info::TI_UINT32</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    std::cerr &lt;&lt; <span class="stringliteral">&quot;index component type must be unsigned integer type&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                dc.indices = (<span class="keywordtype">void</span>*)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>)(accessor.byteOffset + bufferView.byteOffset);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            dc.primitive_type = map_gl_to_primitive_type(GLenum(p.mode));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">if</span> (p.material &gt;= 0) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                dc.material_index = p.material;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                dc.alpha_mode = cgv::render::AlphaMode(doc.materials[p.material].alphaMode);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                dc.alpha_cutoff = doc.materials[p.material].alphaCutoff;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="comment">// std::cout &lt;&lt; doc.materials[p.material].name &lt;&lt; &quot;: &quot; &lt;&lt; (int)doc.materials[p.material].alphaMode &lt;&lt; &quot;|&quot; &lt;&lt; doc.materials[p.material].alphaCutoff &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                dc.material_index = -1;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                dc.alpha_mode = cgv::render::AM_OPAQUE;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                dc.alpha_cutoff = 0.0f;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            dc.prog = 0;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            R.<a class="code" href="classcgv_1_1render_1_1render__info.html#a4d9b6c9221f6de3a136b078a652f2f2d">ref_draw_calls</a>().push_back(dc);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="namespacecgv_1_1render.html#a9a9f6a897808a5990c182946582a514c">  328</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecgv_1_1render.html#a9a9f6a897808a5990c182946582a514c">extract_mesh</a>(<span class="keyword">const</span> std::string&amp; file_name, <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Document.html">fx::gltf::Document</a>&amp; doc,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html">cgv::media::mesh::simple_mesh&lt;float&gt;</a>&amp; mesh, <span class="keywordtype">int</span> mesh_index, <span class="keywordtype">int</span> primitive_index)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    std::string file_path = cgv::utils::file::get_path(file_name);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#a88800d4267ac06965741621cda81cc63">clear</a>();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// read images images</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    std::vector&lt;std::string&gt; image_file_names;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : doc.images) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">if</span> (i.IsEmbeddedResource()) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;cannot not deal with embedded image&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            image_file_names.push_back(file_path + <span class="stringliteral">&quot;/&quot;</span> + i.uri);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// construct materials</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : doc.materials) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keyword">auto</span>&amp; mm = mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a37a03f2e7f413efb4f8b412153a5112e">ref_material</a>(mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a0e3f2b0198aa29df61f87183d95fc709">new_material</a>());</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        mm.<a class="code" href="classcgv_1_1media_1_1illum_1_1textured__surface__material.html#a1f5057bf2e336d3da16338fb80331d6f">set_name</a>(m.name);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        mm.set_diffuse_reflectance(<a class="code" href="namespacecgv.html#a0cf3c7d9673d8f1d9d33685e3ce5c889">rgba</a>(</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            m.pbrMetallicRoughness.baseColorFactor[0],</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            m.pbrMetallicRoughness.baseColorFactor[1],</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            m.pbrMetallicRoughness.baseColorFactor[2],</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            m.pbrMetallicRoughness.baseColorFactor[3]));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">if</span> (m.pbrMetallicRoughness.baseColorTexture.index != -1) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordtype">int</span> ii = mm.add_image_file(image_file_names[</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                doc.textures[m.pbrMetallicRoughness.baseColorTexture.index].source]);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            mm.set_diffuse_index(ii);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        mm.set_roughness(m.pbrMetallicRoughness.roughnessFactor);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        mm.set_metalness(m.pbrMetallicRoughness.metallicFactor);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">if</span> (m.pbrMetallicRoughness.metallicRoughnessTexture.index != -1) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordtype">int</span> ii = mm.add_image_file(image_file_names[</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                doc.textures[m.pbrMetallicRoughness.metallicRoughnessTexture.index].source]);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            mm.set_roughness_index(ii);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            mm.set_metalness_index(ii);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        mm.set_emission(<a class="code" href="namespacecgv.html#a0cf3c7d9673d8f1d9d33685e3ce5c889">rgba</a>(</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            m.emissiveFactor[0],</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            m.emissiveFactor[1],</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            m.emissiveFactor[2]));</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">if</span> (m.emissiveTexture.index != -1) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordtype">int</span> ii = mm.add_image_file(image_file_names[</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                doc.textures[m.emissiveTexture.index].source]);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            mm.set_emission_index(ii);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// construct mesh</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">int</span> prim = 0;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; M : doc.meshes) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span> (mesh_index != -1 &amp;&amp; (&amp;M - &amp;doc.meshes[0]) != mesh_index)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : M.primitives) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">if</span> (primitive_index != -1 &amp;&amp; (&amp;p - &amp;M.primitives[0]) != primitive_index)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordtype">int</span> gi = mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#ab5c9550bab2399e90872985034e9c5f2">new_group</a>(M.name + <span class="stringliteral">&quot;[&quot;</span> + <a class="code" href="namespacecgv_1_1utils.html#a6093acec6246f04a8698328938b9f517">cgv::utils::to_string</a>(prim) + <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordtype">int</span> pi = mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#a1c180cf2d63031eee50a82d8b3c517fa">get_nr_positions</a>();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordtype">int</span> ni = mesh.get_nr_normals();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordtype">int</span> ti = mesh.get_nr_tex_coords();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="keywordtype">bool</span> has_nmls = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordtype">bool</span> has_tcs = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; a : p.attributes) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Accessor.html">fx::gltf::Accessor</a>&amp; accessor = doc.accessors[a.second];</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1BufferView.html">fx::gltf::BufferView</a>&amp; bufferView = doc.bufferViews[accessor.bufferView];</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Buffer.html">fx::gltf::Buffer</a>&amp; buffer = doc.buffers[bufferView.buffer];</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <span class="keyword">const</span> uint8_t* data_ptr = &amp;buffer.data[accessor.byteOffset + bufferView.byteOffset];</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">float</span>* float_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">float</span>*<span class="keyword">&gt;</span>(data_ptr);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="keywordflow">if</span> (a.first == <span class="stringliteral">&quot;POSITION&quot;</span>) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; accessor.count; ++i) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#a263f989e34397ba19477aca0e1ea4e75">new_position</a>(<a class="code" href="classcgv_1_1math_1_1fvec.html">cgv::media::mesh::simple_mesh&lt;float&gt;::vec3</a>(3, float_ptr));</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                        float_ptr += 3;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.first == <span class="stringliteral">&quot;NORMAL&quot;</span>) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    has_nmls = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; accessor.count; ++i) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#abdb481e0f6bf2013d8a25eaeb5b2ee9f">new_normal</a>(<a class="code" href="classcgv_1_1math_1_1fvec.html">cgv::media::mesh::simple_mesh&lt;float&gt;::vec3</a>(3, float_ptr));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        float_ptr += 3;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.first == <span class="stringliteral">&quot;TEXCOORD_0&quot;</span>) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    has_tcs = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; accessor.count; ++i) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#afb402a91b33db7d00e24f5b630291083">new_tex_coord</a>(<a class="code" href="classcgv_1_1math_1_1fvec.html">cgv::media::mesh::simple_mesh&lt;float&gt;::vec2</a>(2, float_ptr));</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                        float_ptr += 2;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordtype">int</span> mi = p.material;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keywordflow">if</span> (p.indices &gt;= 0) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Accessor.html">fx::gltf::Accessor</a>&amp; accessor = doc.accessors[p.indices];</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1BufferView.html">fx::gltf::BufferView</a>&amp; bufferView = doc.bufferViews[accessor.bufferView];</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <span class="keyword">const</span> <a class="code" href="structfx_1_1gltf_1_1Buffer.html">fx::gltf::Buffer</a>&amp; buffer = doc.buffers[bufferView.buffer];</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="keyword">const</span> uint8_t* data_ptr = &amp;buffer.data[accessor.byteOffset + bufferView.byteOffset];</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                <span class="keyword">const</span> uint16_t* ushort_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint16_t*<span class="keyword">&gt;</span>(data_ptr);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keyword">const</span> uint32_t* uint_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint32_t*<span class="keyword">&gt;</span>(data_ptr);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <span class="keywordflow">if</span> (p.mode == fx::gltf::Primitive::Mode::Triangles) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    <span class="keywordtype">int</span> fi;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; accessor.count; ++i) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        <span class="keywordflow">if</span> (i % 3 == 0) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                            fi = mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a58ec8ca84b58127b2579294cb0606433">start_face</a>();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                            mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a8abcfbec6672e7f1fab2251e93bf3601">group_index</a>(fi) = prim;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                            mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a04acd6db9ad1935576138e9d71a02c70">material_index</a>(fi) = mi;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                        }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                        uint32_t idx = -1;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        <span class="keywordflow">switch</span> (accessor.componentType) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedByte: idx = data_ptr[i]; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedShort: idx = ushort_ptr[i]; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        <span class="keywordflow">case</span> fx::gltf::Accessor::ComponentType::UnsignedInt: idx = uint_ptr[i]; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        mesh.<a class="code" href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#acc42be4837826d4977a349316f1585b8">new_corner</a>(pi + idx, has_nmls ? ni + idx : -1, has_tcs ? ti + idx : -1);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            ++prim;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="namespacecgv_1_1render.html#aaccb030083a7a68e229ef84bab13ebaa">  453</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacecgv_1_1render.html#aaccb030083a7a68e229ef84bab13ebaa">write_gltf</a>(<span class="keyword">const</span> std::string&amp; file_name, <span class="keyword">const</span> <a class="code" href="classcgv_1_1render_1_1render__info.html">cgv::render::render_info</a>&amp; R)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div>
<div class="ttc" id="aclasscgv_1_1data_1_1data__format_html"><div class="ttname"><a href="classcgv_1_1data_1_1data__format.html">cgv::data::data_format</a></div><div class="ttdoc">A data_format describes a multidimensional data block of data entries.</div><div class="ttdef"><b>Definition:</b> <a href="data__format_8h_source.html#l00018">data_format.h:19</a></div></div>
<div class="ttc" id="aclasscgv_1_1data_1_1data__view_html"><div class="ttname"><a href="classcgv_1_1data_1_1data__view.html">cgv::data::data_view</a></div><div class="ttdoc">the data view gives access to a data array of one, two, three or four dimensions.</div><div class="ttdef"><b>Definition:</b> <a href="data__view_8h_source.html#l00152">data_view.h:153</a></div></div>
<div class="ttc" id="aclasscgv_1_1math_1_1fvec_html"><div class="ttname"><a href="classcgv_1_1math_1_1fvec.html">cgv::math::fvec&lt; float, 2 &gt;</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1axis__aligned__box_html"><div class="ttname"><a href="classcgv_1_1media_1_1axis__aligned__box.html">cgv::media::axis_aligned_box&lt; float, 3 &gt;</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1axis__aligned__box_html_a147cf684bc35aa99ed1dc779930a1fc4"><div class="ttname"><a href="classcgv_1_1media_1_1axis__aligned__box.html#a147cf684bc35aa99ed1dc779930a1fc4">cgv::media::axis_aligned_box::invalidate</a></div><div class="ttdeci">void invalidate()</div><div class="ttdoc">set to invalid min and max points</div><div class="ttdef"><b>Definition:</b> <a href="axis__aligned__box_8h_source.html#l00053">axis_aligned_box.h:53</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1axis__aligned__box_html_a3365862ca70f3d02981781f99bf238be"><div class="ttname"><a href="classcgv_1_1media_1_1axis__aligned__box.html#a3365862ca70f3d02981781f99bf238be">cgv::media::axis_aligned_box::add_point</a></div><div class="ttdeci">void add_point(const fpnt_type &amp;p)</div><div class="ttdoc">extent box to include given point</div><div class="ttdef"><b>Definition:</b> <a href="axis__aligned__box_8h_source.html#l00094">axis_aligned_box.h:94</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1illum_1_1textured__surface__material_html_a1f5057bf2e336d3da16338fb80331d6f"><div class="ttname"><a href="classcgv_1_1media_1_1illum_1_1textured__surface__material.html#a1f5057bf2e336d3da16338fb80331d6f">cgv::media::illum::textured_surface_material::set_name</a></div><div class="ttdeci">void set_name(std::string o)</div><div class="ttdoc">set the name of the material</div><div class="ttdef"><b>Definition:</b> <a href="textured__surface__material_8h_source.html#l00072">textured_surface_material.h:72</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1image_1_1image__reader_html"><div class="ttname"><a href="classcgv_1_1media_1_1image_1_1image__reader.html">cgv::media::image::image_reader</a></div><div class="ttdoc">the image reader chooses a specific reader automatically based on the extension of the given file nam...</div><div class="ttdef"><b>Definition:</b> <a href="image__reader_8h_source.html#l00063">image_reader.h:64</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1image_1_1image__reader_html_a6dcb64349ead610304e739e09997099e"><div class="ttname"><a href="classcgv_1_1media_1_1image_1_1image__reader.html#a6dcb64349ead610304e739e09997099e">cgv::media::image::image_reader::close</a></div><div class="ttdeci">bool close()</div><div class="ttdoc">close the image file</div><div class="ttdef"><b>Definition:</b> <a href="image__reader_8cxx_source.html#l00295">image_reader.cxx:295</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1image_1_1image__reader_html_aa7e432a1d23297e019079b5dbd83e8db"><div class="ttname"><a href="classcgv_1_1media_1_1image_1_1image__reader.html#aa7e432a1d23297e019079b5dbd83e8db">cgv::media::image::image_reader::open</a></div><div class="ttdeci">bool open(const std::string &amp;file_name)</div><div class="ttdoc">open the file and read the image header in order to determine the data format of the file,...</div><div class="ttdef"><b>Definition:</b> <a href="image__reader_8cxx_source.html#l00140">image_reader.cxx:140</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1image_1_1image__reader_html_ac871d242183818bcacb62613a6907611"><div class="ttname"><a href="classcgv_1_1media_1_1image_1_1image__reader.html#ac871d242183818bcacb62613a6907611">cgv::media::image::image_reader::read_image</a></div><div class="ttdeci">bool read_image(const std::string &amp;file_name, data_view &amp;dv, std::vector&lt; data_view &gt; *palettes=0)</div><div class="ttdoc">read the whole image into the given data view.</div><div class="ttdef"><b>Definition:</b> <a href="image__reader_8cxx_source.html#l00120">image_reader.cxx:120</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh__base_html_a04acd6db9ad1935576138e9d71a02c70"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a04acd6db9ad1935576138e9d71a02c70">cgv::media::mesh::simple_mesh_base::material_index</a></div><div class="ttdeci">const idx_type &amp; material_index(idx_type fi) const</div><div class="ttdoc">return material index of given face</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00136">simple_mesh.h:136</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh__base_html_a0e3f2b0198aa29df61f87183d95fc709"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a0e3f2b0198aa29df61f87183d95fc709">cgv::media::mesh::simple_mesh_base::new_material</a></div><div class="ttdeci">idx_type new_material()</div><div class="ttdoc">add a new material and return its index</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00130">simple_mesh.h:130</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh__base_html_a37a03f2e7f413efb4f8b412153a5112e"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a37a03f2e7f413efb4f8b412153a5112e">cgv::media::mesh::simple_mesh_base::ref_material</a></div><div class="ttdeci">mat_type &amp; ref_material(size_t i)</div><div class="ttdoc">return reference to i-th material</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00134">simple_mesh.h:134</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh__base_html_a58ec8ca84b58127b2579294cb0606433"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a58ec8ca84b58127b2579294cb0606433">cgv::media::mesh::simple_mesh_base::start_face</a></div><div class="ttdeci">idx_type start_face()</div><div class="ttdoc">Create a new empty face to which new corners are added.</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8cxx_source.html#l00078">simple_mesh.cxx:78</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh__base_html_a8abcfbec6672e7f1fab2251e93bf3601"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#a8abcfbec6672e7f1fab2251e93bf3601">cgv::media::mesh::simple_mesh_base::group_index</a></div><div class="ttdeci">const idx_type &amp; group_index(idx_type fi) const</div><div class="ttdoc">return group index of given face</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00148">simple_mesh.h:148</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh__base_html_ab5c9550bab2399e90872985034e9c5f2"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#ab5c9550bab2399e90872985034e9c5f2">cgv::media::mesh::simple_mesh_base::new_group</a></div><div class="ttdeci">idx_type new_group(const std::string &amp;name)</div><div class="ttdoc">add a new group and return its index</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00146">simple_mesh.h:146</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh__base_html_acc42be4837826d4977a349316f1585b8"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh__base.html#acc42be4837826d4977a349316f1585b8">cgv::media::mesh::simple_mesh_base::new_corner</a></div><div class="ttdeci">idx_type new_corner(idx_type position_index, idx_type normal_index=-1, idx_type tex_coord_index=-1)</div><div class="ttdoc">Create a new corner with the given attributes.</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8cxx_source.html#l00087">simple_mesh.cxx:87</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh_html"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html">cgv::media::mesh::simple_mesh&lt; float &gt;</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh_html_a1c180cf2d63031eee50a82d8b3c517fa"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#a1c180cf2d63031eee50a82d8b3c517fa">cgv::media::mesh::simple_mesh::get_nr_positions</a></div><div class="ttdeci">idx_type get_nr_positions() const</div><div class="ttdoc">access to positions</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00335">simple_mesh.h:335</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh_html_a263f989e34397ba19477aca0e1ea4e75"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#a263f989e34397ba19477aca0e1ea4e75">cgv::media::mesh::simple_mesh::new_position</a></div><div class="ttdeci">idx_type new_position(const vec3 &amp;p)</div><div class="ttdoc">add a new position and return position index</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00333">simple_mesh.h:333</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh_html_a88800d4267ac06965741621cda81cc63"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#a88800d4267ac06965741621cda81cc63">cgv::media::mesh::simple_mesh::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear simple mesh</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8cxx_source.html#l00571">simple_mesh.cxx:571</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh_html_abdb481e0f6bf2013d8a25eaeb5b2ee9f"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#abdb481e0f6bf2013d8a25eaeb5b2ee9f">cgv::media::mesh::simple_mesh::new_normal</a></div><div class="ttdeci">idx_type new_normal(const vec3 &amp;n)</div><div class="ttdoc">add a new normal and return normal index</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00342">simple_mesh.h:342</a></div></div>
<div class="ttc" id="aclasscgv_1_1media_1_1mesh_1_1simple__mesh_html_afb402a91b33db7d00e24f5b630291083"><div class="ttname"><a href="classcgv_1_1media_1_1mesh_1_1simple__mesh.html#afb402a91b33db7d00e24f5b630291083">cgv::media::mesh::simple_mesh::new_tex_coord</a></div><div class="ttdeci">idx_type new_tex_coord(const vec2 &amp;tc)</div><div class="ttdoc">add a new texture coordinate and return texture coordinate index</div><div class="ttdef"><b>Definition:</b> <a href="simple__mesh_8h_source.html#l00359">simple_mesh.h:359</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1attribute__array__binding_html"><div class="ttname"><a href="classcgv_1_1render_1_1attribute__array__binding.html">cgv::render::attribute_array_binding</a></div><div class="ttdoc">the attribute_array_binding allows to define vertex attributes (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="attribute__array__binding_8h_source.html#l00019">attribute_array_binding.h:20</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1attribute__array__binding_html_a180fc55e536437e5798b2cf355c017eb"><div class="ttname"><a href="classcgv_1_1render_1_1attribute__array__binding.html#a180fc55e536437e5798b2cf355c017eb">cgv::render::attribute_array_binding::create</a></div><div class="ttdeci">bool create(const context &amp;ctx)</div><div class="ttdoc">create the attribute array binding object</div><div class="ttdef"><b>Definition:</b> <a href="attribute__array__binding_8cxx_source.html#l00088">attribute_array_binding.cxx:88</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1context_html"><div class="ttname"><a href="classcgv_1_1render_1_1context.html">cgv::render::context</a></div><div class="ttdoc">base class for all drawables, which is independent of the used rendering API.</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00620">context.h:621</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1context_html_ad351a2dc1c1e0343b17738053a981816"><div class="ttname"><a href="classcgv_1_1render_1_1context.html#ad351a2dc1c1e0343b17738053a981816">cgv::render::context::make_current</a></div><div class="ttdeci">virtual bool make_current() const =0</div><div class="ttdoc">make the current context current if possible</div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1render__info_html"><div class="ttname"><a href="classcgv_1_1render_1_1render__info.html">cgv::render::render_info</a></div><div class="ttdoc">the mesh_render_info structure manages vertex buffer objects for attribute and element buffers as wel...</div><div class="ttdef"><b>Definition:</b> <a href="render__info_8h_source.html#l00075">render_info.h:76</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1render__info_html_a122a484f3d252d8059bced0a5385d0eb"><div class="ttname"><a href="classcgv_1_1render_1_1render__info.html#a122a484f3d252d8059bced0a5385d0eb">cgv::render::render_info::ref_vbos</a></div><div class="ttdeci">std::vector&lt; vertex_buffer * &gt; &amp; ref_vbos()</div><div class="ttdoc">give write access to vbos</div><div class="ttdef"><b>Definition:</b> <a href="render__info_8cxx_source.html#l00152">render_info.cxx:152</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1render__info_html_a28eb9c93ab8c9eea1d34627804513f10"><div class="ttname"><a href="classcgv_1_1render_1_1render__info.html#a28eb9c93ab8c9eea1d34627804513f10">cgv::render::render_info::ref_textures</a></div><div class="ttdeci">std::vector&lt; texture * &gt; &amp; ref_textures()</div><div class="ttdoc">give write access to texture</div><div class="ttdef"><b>Definition:</b> <a href="render__info_8cxx_source.html#l00163">render_info.cxx:163</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1render__info_html_a4d6c314b7d74e35e5b00b1d92bba4f19"><div class="ttname"><a href="classcgv_1_1render_1_1render__info.html#a4d6c314b7d74e35e5b00b1d92bba4f19">cgv::render::render_info::ref_materials</a></div><div class="ttdeci">std::vector&lt; textured_material * &gt; &amp; ref_materials()</div><div class="ttdoc">give write access to materials</div><div class="ttdef"><b>Definition:</b> <a href="render__info_8cxx_source.html#l00146">render_info.cxx:146</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1render__info_html_a4d9b6c9221f6de3a136b078a652f2f2d"><div class="ttname"><a href="classcgv_1_1render_1_1render__info.html#a4d9b6c9221f6de3a136b078a652f2f2d">cgv::render::render_info::ref_draw_calls</a></div><div class="ttdeci">std::vector&lt; draw_call &gt; &amp; ref_draw_calls()</div><div class="ttdoc">give write access to draw calls</div><div class="ttdef"><b>Definition:</b> <a href="render__info_8cxx_source.html#l00169">render_info.cxx:169</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1render__info_html_a51b42cc31f3332405dbc85f9581b301d"><div class="ttname"><a href="classcgv_1_1render_1_1render__info.html#a51b42cc31f3332405dbc85f9581b301d">cgv::render::render_info::ref_aas</a></div><div class="ttdeci">std::vector&lt; attribute_array &gt; &amp; ref_aas()</div><div class="ttdoc">give write access to aabs</div><div class="ttdef"><b>Definition:</b> <a href="render__info_8cxx_source.html#l00158">render_info.cxx:158</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1render__info_html_a9f2169ef38b3237ec92344b7db230882"><div class="ttname"><a href="classcgv_1_1render_1_1render__info.html#a9f2169ef38b3237ec92344b7db230882">cgv::render::render_info::destruct</a></div><div class="ttdeci">void destruct(cgv::render::context &amp;ctx)</div><div class="ttdoc">destruct render mesh info and free vertex buffer objects</div><div class="ttdef"><b>Definition:</b> <a href="render__info_8cxx_source.html#l00257">render_info.cxx:257</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1texture_html"><div class="ttname"><a href="classcgv_1_1render_1_1texture.html">cgv::render::texture</a></div><div class="ttdoc">the texture class encapsulates all functionality independent of the rendering api.</div><div class="ttdef"><b>Definition:</b> <a href="texture_8h_source.html#l00014">texture.h:15</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1texture_html_a0164a6d3a2161bc4190daac067d78c5e"><div class="ttname"><a href="classcgv_1_1render_1_1texture.html#a0164a6d3a2161bc4190daac067d78c5e">cgv::render::texture::set_mag_filter</a></div><div class="ttdeci">void set_mag_filter(TextureFilter _mag_filter)</div><div class="ttdoc">set the magnification filter</div><div class="ttdef"><b>Definition:</b> <a href="texture_8cxx_source.html#l00137">texture.cxx:137</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1texture_html_a2b89a0bb09f73e84dec467a61b3fcc8b"><div class="ttname"><a href="classcgv_1_1render_1_1texture.html#a2b89a0bb09f73e84dec467a61b3fcc8b">cgv::render::texture::create</a></div><div class="ttdeci">bool create(const context &amp;ctx, TextureType _tt=TT_UNDEF, unsigned width=-1, unsigned height=-1, unsigned depth=-1)</div><div class="ttdoc">create the texture of dimension and resolution specified in the data format base class.</div><div class="ttdef"><b>Definition:</b> <a href="texture_8cxx_source.html#l00207">texture.cxx:207</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1texture_html_a81df3fa4d66b5d141e538532a83b08ee"><div class="ttname"><a href="classcgv_1_1render_1_1texture.html#a81df3fa4d66b5d141e538532a83b08ee">cgv::render::texture::set_wrap_t</a></div><div class="ttdeci">void set_wrap_t(TextureWrap _wrap_t)</div><div class="ttdoc">set the texture wrap behaviour in t direction</div><div class="ttdef"><b>Definition:</b> <a href="texture_8cxx_source.html#l00082">texture.cxx:82</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1texture_html_abded6c3f51802b693e176c274bba3ed3"><div class="ttname"><a href="classcgv_1_1render_1_1texture.html#abded6c3f51802b693e176c274bba3ed3">cgv::render::texture::set_wrap_s</a></div><div class="ttdeci">void set_wrap_s(TextureWrap _wrap_s)</div><div class="ttdoc">set the texture wrap behaviour in s direction</div><div class="ttdef"><b>Definition:</b> <a href="texture_8cxx_source.html#l00076">texture.cxx:76</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1texture_html_ae16b594b6a561303de2dde63af981317"><div class="ttname"><a href="classcgv_1_1render_1_1texture.html#ae16b594b6a561303de2dde63af981317">cgv::render::texture::set_min_filter</a></div><div class="ttdeci">void set_min_filter(TextureFilter _min_filter, float _anisotropy=2.0f)</div><div class="ttdoc">set the minification filters, if minification is set to TF_ANISOTROP, the second floating point param...</div><div class="ttdef"><b>Definition:</b> <a href="texture_8cxx_source.html#l00119">texture.cxx:119</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1textured__material_html"><div class="ttname"><a href="classcgv_1_1render_1_1textured__material.html">cgv::render::textured_material</a></div><div class="ttdoc">class that extends obj_material with the management of textures</div><div class="ttdef"><b>Definition:</b> <a href="textured__material_8h_source.html#l00012">textured_material.h:13</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1textured__material_html_a855ded26a0193a7c93d839d9ba0df1ce"><div class="ttname"><a href="classcgv_1_1render_1_1textured__material.html#a855ded26a0193a7c93d839d9ba0df1ce">cgv::render::textured_material::set_alpha_test</a></div><div class="ttdeci">void set_alpha_test(AlphaTestFunc _alpha_test_func=AT_GREATER, float _alpha_threshold=0.0f)</div><div class="ttdoc">configure the alpha test that is performed in case alpha values are given in the textures</div><div class="ttdef"><b>Definition:</b> <a href="textured__material_8cxx_source.html#l00068">textured_material.cxx:68</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1textured__material_html_adf89736c38a1640923a915bae186c1e7"><div class="ttname"><a href="classcgv_1_1render_1_1textured__material.html#adf89736c38a1640923a915bae186c1e7">cgv::render::textured_material::add_texture_reference</a></div><div class="ttdeci">int add_texture_reference(cgv::render::texture &amp;tex)</div><div class="ttdoc">add a reference to a new texture that is managed outside of this class and return its index</div><div class="ttdef"><b>Definition:</b> <a href="textured__material_8cxx_source.html#l00033">textured_material.cxx:33</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1vertex__buffer_html"><div class="ttname"><a href="classcgv_1_1render_1_1vertex__buffer.html">cgv::render::vertex_buffer</a></div><div class="ttdoc">a vertex buffer is an unstructured memory block on the GPU.</div><div class="ttdef"><b>Definition:</b> <a href="vertex__buffer_8h_source.html#l00012">vertex_buffer.h:13</a></div></div>
<div class="ttc" id="aclasscgv_1_1render_1_1vertex__buffer_html_a7f244cbaab438c459a07454d2ce08df6"><div class="ttname"><a href="classcgv_1_1render_1_1vertex__buffer.html#a7f244cbaab438c459a07454d2ce08df6">cgv::render::vertex_buffer::create</a></div><div class="ttdeci">bool create(const context &amp;ctx, size_t size_in_bytes)</div><div class="ttdoc">create empty vertex buffer of size size given in bytes</div><div class="ttdef"><b>Definition:</b> <a href="vertex__buffer_8cxx_source.html#l00058">vertex_buffer.cxx:58</a></div></div>
<div class="ttc" id="anamespacecgv_1_1render_html_a36d5eafecd046d656ad030c042dfeaea"><div class="ttname"><a href="namespacecgv_1_1render.html#a36d5eafecd046d656ad030c042dfeaea">cgv::render::TextureFilter</a></div><div class="ttdeci">TextureFilter</div><div class="ttdoc">different texture filter</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00189">context.h:189</a></div></div>
<div class="ttc" id="anamespacecgv_1_1render_html_a4b3eb5abd80954194b0b60848fad0f2a"><div class="ttname"><a href="namespacecgv_1_1render.html#a4b3eb5abd80954194b0b60848fad0f2a">cgv::render::TextureWrap</a></div><div class="ttdeci">TextureWrap</div><div class="ttdoc">different texture wrap modes</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00173">context.h:173</a></div></div>
<div class="ttc" id="anamespacecgv_1_1render_html_a7b675d0a601181144b6ce95371ad087d"><div class="ttname"><a href="namespacecgv_1_1render.html#a7b675d0a601181144b6ce95371ad087d">cgv::render::build_render_info</a></div><div class="ttdeci">bool build_render_info(const std::string &amp;file_name, const fx::gltf::Document &amp;doc, cgv::render::context &amp;ctx, cgv::render::render_info &amp;R)</div><div class="ttdoc">construct render info from gltf document</div><div class="ttdef"><b>Definition:</b> <a href="gltf__support_8cxx_source.html#l00134">gltf_support.cxx:134</a></div></div>
<div class="ttc" id="anamespacecgv_1_1render_html_a9a9f6a897808a5990c182946582a514c"><div class="ttname"><a href="namespacecgv_1_1render.html#a9a9f6a897808a5990c182946582a514c">cgv::render::extract_mesh</a></div><div class="ttdeci">void extract_mesh(const std::string &amp;file_name, const fx::gltf::Document &amp;doc, cgv::media::mesh::simple_mesh&lt; float &gt; &amp;mesh, int mesh_index, int primitive_index)</div><div class="ttdoc">extract simple mesh form gltf document</div><div class="ttdef"><b>Definition:</b> <a href="gltf__support_8cxx_source.html#l00328">gltf_support.cxx:328</a></div></div>
<div class="ttc" id="anamespacecgv_1_1render_html_aa85910291a6074f0a3f451e846b43e79"><div class="ttname"><a href="namespacecgv_1_1render.html#aa85910291a6074f0a3f451e846b43e79">cgv::render::extract_additional_information</a></div><div class="ttdeci">void extract_additional_information(const fx::gltf::Document &amp;doc, box3 &amp;box, size_t &amp;vertex_count)</div><div class="ttdoc">extract bounding box and vertex count from gltf document</div><div class="ttdef"><b>Definition:</b> <a href="gltf__support_8cxx_source.html#l00097">gltf_support.cxx:97</a></div></div>
<div class="ttc" id="anamespacecgv_1_1render_html_aaccb030083a7a68e229ef84bab13ebaa"><div class="ttname"><a href="namespacecgv_1_1render.html#aaccb030083a7a68e229ef84bab13ebaa">cgv::render::write_gltf</a></div><div class="ttdeci">bool write_gltf(const std::string &amp;file_name, const cgv::render::render_info &amp;R)</div><div class="ttdoc">NOT IMPLEMENTED YET.</div><div class="ttdef"><b>Definition:</b> <a href="gltf__support_8cxx_source.html#l00453">gltf_support.cxx:453</a></div></div>
<div class="ttc" id="anamespacecgv_1_1render_html_ad09ce7c1f1275e31a8fbc3a85efbb1b6"><div class="ttname"><a href="namespacecgv_1_1render.html#ad09ce7c1f1275e31a8fbc3a85efbb1b6">cgv::render::PrimitiveType</a></div><div class="ttdeci">PrimitiveType</div><div class="ttdoc">different primitive types</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00225">context.h:225</a></div></div>
<div class="ttc" id="anamespacecgv_1_1type_1_1info_html_accf71420e941489dc6fb6737cd11b752a0b548d57327334a30941ab7a822b8c74"><div class="ttname"><a href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a0b548d57327334a30941ab7a822b8c74">cgv::type::info::TI_INT16</a></div><div class="ttdeci">@ TI_INT16</div><div class="ttdoc">signed integer stored in 8 bits</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00020">type_id.h:20</a></div></div>
<div class="ttc" id="anamespacecgv_1_1type_1_1info_html_accf71420e941489dc6fb6737cd11b752a0d205549dd2803b074865a37865f3a3f"><div class="ttname"><a href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a0d205549dd2803b074865a37865f3a3f">cgv::type::info::TI_INT8</a></div><div class="ttdeci">@ TI_INT8</div><div class="ttdoc">boolean</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00019">type_id.h:19</a></div></div>
<div class="ttc" id="anamespacecgv_1_1type_1_1info_html_accf71420e941489dc6fb6737cd11b752a36608291ef7616121cf91e65d5451173"><div class="ttname"><a href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a36608291ef7616121cf91e65d5451173">cgv::type::info::TI_FLT32</a></div><div class="ttdeci">@ TI_FLT32</div><div class="ttdoc">floating point type stored in 16 bits</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00028">type_id.h:28</a></div></div>
<div class="ttc" id="anamespacecgv_1_1type_1_1info_html_accf71420e941489dc6fb6737cd11b752a5bbca1b211b592408faf6d1934103f76"><div class="ttname"><a href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a5bbca1b211b592408faf6d1934103f76">cgv::type::info::TI_UINT32</a></div><div class="ttdeci">@ TI_UINT32</div><div class="ttdoc">unsigned integer stored in 16 bits</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00025">type_id.h:25</a></div></div>
<div class="ttc" id="anamespacecgv_1_1type_1_1info_html_accf71420e941489dc6fb6737cd11b752a60aaeda29715a39905dd9cbfbd0130ca"><div class="ttname"><a href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752a60aaeda29715a39905dd9cbfbd0130ca">cgv::type::info::TI_UINT8</a></div><div class="ttdeci">@ TI_UINT8</div><div class="ttdoc">signed integer stored in 64 bits</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00023">type_id.h:23</a></div></div>
<div class="ttc" id="anamespacecgv_1_1type_1_1info_html_accf71420e941489dc6fb6737cd11b752adb950c696eab9ccc5fda8cf2f384b2a0"><div class="ttname"><a href="namespacecgv_1_1type_1_1info.html#accf71420e941489dc6fb6737cd11b752adb950c696eab9ccc5fda8cf2f384b2a0">cgv::type::info::TI_UINT16</a></div><div class="ttdeci">@ TI_UINT16</div><div class="ttdoc">unsigned integer stored in 8 bits</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00024">type_id.h:24</a></div></div>
<div class="ttc" id="anamespacecgv_1_1utils_html_a6093acec6246f04a8698328938b9f517"><div class="ttname"><a href="namespacecgv_1_1utils.html#a6093acec6246f04a8698328938b9f517">cgv::utils::to_string</a></div><div class="ttdeci">std::string to_string(const std::string &amp;v, unsigned int w, unsigned int p, bool)</div><div class="ttdoc">specialization of conversion from string to strings</div><div class="ttdef"><b>Definition:</b> <a href="convert__string_8cxx_source.html#l00007">convert_string.cxx:7</a></div></div>
<div class="ttc" id="anamespacecgv_html"><div class="ttname"><a href="namespacecgv.html">cgv</a></div><div class="ttdoc">the cgv namespace</div><div class="ttdef"><b>Definition:</b> <a href="print_8h_source.html#l00011">print.h:11</a></div></div>
<div class="ttc" id="anamespacecgv_html_a0cf3c7d9673d8f1d9d33685e3ce5c889"><div class="ttname"><a href="namespacecgv.html#a0cf3c7d9673d8f1d9d33685e3ce5c889">cgv::rgba</a></div><div class="ttdeci">cgv::media::color&lt; float, cgv::media::RGB, cgv::media::OPACITY &gt; rgba</div><div class="ttdoc">declare rgba color type with 32 bit components</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00852">color.h:852</a></div></div>
<div class="ttc" id="anamespacecgv_html_a465f589beeb5e4e76eb2db8d1f6057c1"><div class="ttname"><a href="namespacecgv.html#a465f589beeb5e4e76eb2db8d1f6057c1">cgv::rgb</a></div><div class="ttdeci">cgv::media::color&lt; float, cgv::media::RGB &gt; rgb</div><div class="ttdoc">declare rgb color type with 32 bit components</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00850">color.h:850</a></div></div>
<div class="ttc" id="anamespacecgv_html_a986c65184af5066fa26d468fd606c4fb"><div class="ttname"><a href="namespacecgv.html#a986c65184af5066fa26d468fd606c4fb">cgv::vec3</a></div><div class="ttdeci">cgv::math::fvec&lt; float, 3 &gt; vec3</div><div class="ttdoc">declare type of 3d single precision floating point vectors</div><div class="ttdef"><b>Definition:</b> <a href="fvec_8h_source.html#l00666">fvec.h:666</a></div></div>
<div class="ttc" id="astructcgv_1_1render_1_1attribute__array_html"><div class="ttname"><a href="structcgv_1_1render_1_1attribute__array.html">cgv::render::attribute_array</a></div><div class="ttdef"><b>Definition:</b> <a href="render__info_8h_source.html#l00046">render_info.h:47</a></div></div>
<div class="ttc" id="astructcgv_1_1render_1_1draw__call_html"><div class="ttname"><a href="structcgv_1_1render_1_1draw__call.html">cgv::render::draw_call</a></div><div class="ttdef"><b>Definition:</b> <a href="render__info_8h_source.html#l00056">render_info.h:56</a></div></div>
<div class="ttc" id="astructcgv_1_1render_1_1type__descriptor_html"><div class="ttname"><a href="structcgv_1_1render_1_1type__descriptor.html">cgv::render::type_descriptor</a></div><div class="ttdoc">compact type description of data that can be sent to the context; convertible to int</div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00046">context.h:47</a></div></div>
<div class="ttc" id="astructfx_1_1gltf_1_1Accessor_html"><div class="ttname"><a href="structfx_1_1gltf_1_1Accessor.html">fx::gltf::Accessor</a></div><div class="ttdef"><b>Definition:</b> <a href="gltf_8h_source.html#l00353">gltf.h:354</a></div></div>
<div class="ttc" id="astructfx_1_1gltf_1_1BufferView_html"><div class="ttname"><a href="structfx_1_1gltf_1_1BufferView.html">fx::gltf::BufferView</a></div><div class="ttdef"><b>Definition:</b> <a href="gltf_8h_source.html#l00499">gltf.h:500</a></div></div>
<div class="ttc" id="astructfx_1_1gltf_1_1Buffer_html"><div class="ttname"><a href="structfx_1_1gltf_1_1Buffer.html">fx::gltf::Buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="gltf_8h_source.html#l00477">gltf.h:478</a></div></div>
<div class="ttc" id="astructfx_1_1gltf_1_1Document_html"><div class="ttname"><a href="structfx_1_1gltf_1_1Document.html">fx::gltf::Document</a></div><div class="ttdef"><b>Definition:</b> <a href="gltf_8h_source.html#l00782">gltf.h:783</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6719ab1f1f7655efc2fa43f7eb574fd1.html">libs</a></li><li class="navelem"><a class="el" href="dir_f16db7e8e986822ea044923d3ae8a0b5.html">cgv_gl</a></li><li class="navelem"><a class="el" href="dir_df80e2f56895c94ffe6ee6e9fd69f984.html">gl</a></li><li class="navelem"><b>gltf_support.cxx</b></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
